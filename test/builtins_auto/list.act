"""Test lists
"""

actor main(env):
    l: list[int] = [1, 2]

    l.append(3)
    if l != [1, 2, 3]:
        print("Unexpected result of list.append(3):", l)
        exit(env.cap, 1)

    l.insert(0, 0)
    if l != [0, 1, 2, 3]:
        print("Unexpected result of list.insert(0, 0):", l)
        exit(env.cap, 1)

    l.insert(2, 37)
    if l != [0, 1, 37, 2, 3]:
        print("Unexpected result of list.insert(2, 37):", l)
        exit(env.cap, 1)

#    if l.index(37) != 2:
#        print("Unexpected result of list.index(37):", l)
#        exit(env.cap, 1)

    l2 = l.copy()
    if l2 != [0, 1, 37, 2, 3]:
        print("Unexpected result of list.copy():", l2)
        exit(env.cap, 1)

#    c = l.count(37, None, None)
#    if c != 1:
#        print("Unexpected result of list.count(37):", c)
#        exit(env.cap, 1)

    l.extend([45, 56])
    if l != [0, 1, 37, 2, 3, 45, 56]:
        print("Unexpected result of list.extend([45, 56]):", l)
        exit(env.cap, 1)

    l.reverse()
    if l != [56, 45, 3, 2, 37, 1, 0]:
        print("Unexpected result of list.reverse():", l)
        exit(env.cap, 1)

    del l[1]
    if l != [56, 3, 2, 37, 1, 0]:
        print("Unexpected result of del list[1]:", l)
        exit(env.cap, 1)

    l.pop(-1)
    if l != [56, 3, 2, 37, 1]:
        print("Unexpected result of list.pop():", l)
        exit(env.cap, 1)

#    l.remove(37)
#    if l != [3, 1]:
#        print("Unexpected result of list.remove(37):", l)
#        exit(env.cap, 1)


    l.clear()
    if l != []:
        print("Unexpected result of list.clear():", l)
        exit(env.cap, 1)

#    sorted
    l = [56, 3, 2, 37, 1]
    if sorted(l) != [1, 2, 3, 37, 56]:
        print("Unexpected result of sorted(l):", sorted(l))
        exit(env.cap, 1)

    if bool([]):
        print("Unexpected result of bool([]):", l)
        exit(env.cap, 1)

#shrinking
    l = list(range(0,30,1))
    for i in range(0,20,1):
        l.pop(-1)
    if len(l) != 10 or l[4] != 4:
        print("Unexpected shrinking of list")
        exit(env.cap, 1)
    
    exit(env.cap, 0)
